

<div id="banner-area" class="banner-area" style="background-image:url(assets/img/contact.jpg);margin-top: 8%;margin-bottom: 3%;">
  <div class="banner-text">
    <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="banner-heading">
              <h1 class="banner-title">Djagora academy / {{SingleProject.name}}</h1>
            </div>
          </div><!-- Col end -->
        </div><!-- Row end -->
    </div><!-- Container end -->
  </div><!-- Banner text end -->
</div><!-- Banner area end --> 


<div class="tout_singel">

  <div class="mb-md-5">

    <div class="d-flex flex-row mx-5 ">

      <button class="btn_retour ms-5  " routerLink="/djagoraacadimy"><a>ðŸ¢€ Back</a></button>

    </div>
    <div class="d-flex flex-row-reverse me-5 ">
      <button *ngIf="ProjectOwner.user_id==loggeduser['id'] " (click)="endProj(SingleProject.id)"
        class="endproj me-5 ">End Project</button>


    </div>
  </div>









  <div class="singel_project  ">


    <div class="rpbox ">
      <div class="boxarchive">
        <div class=" container py-4 ">

          <article class="postcard light yellow mt-md-4 ">
            <a class="postcard__img_link" href="#">
              <img class="postcard__img" [src]="imgpath+SingleProject.img" alt="Image Title" />
            </a>
            <div class="postcard__text t-dark">
              <h1 class="postcard__title yellow"><a href="#"><b>{{SingleProject.title}}</b></a></h1>

              <div class="postcard__bar"></div>
              <div class="postcard__preview-txt">{{SingleProject.description}}</div>
              <br>
              <ul class="postcard__tagbox" style="list-style: none;">
                <li class="tag__item"><i class="fas fa-user mr-2"></i>{{SingleProject.owner}}</li>
                <li class="tag__item" *ngIf="SingleProject.projectState==0"><i
                    class="fa-solid fa-person-circle-check"></i>Pending
                <li>
                <li class="tag__item" *ngIf="SingleProject.projectState==1"><i
                    class="fa-solid fa-person-circle-check"></i>
                  Approuved </li>
                <li class="tag__item" *ngIf="SingleProject.projectState==-1"><i
                    class="fa-solid fa-person-circle-check"></i>Denied</li>
                    <li class="tag__item"><i class="fas fa-code mr-2"></i>{{SingleProject.technologies}}</li>
                    <li class="tag__item"><i class="fas fa-users mr-2"></i>{{SingleProject.nb_stagaires}}</li>
                    <li class="tag__item"><i class="fas fa-diagram-project mr-2"></i>{{SingleProject.domain}}</li>

              </ul>
              <p class="read-more" (click)="onApply()">
                <a 
                  *ngIf="countOwnedApp==0 && role=='1' && SingleProject.finishState==0 && edition.state==1"  >Apply</a>
              </p>
              <p class="read-more">
                <a [routerLink]="['/team',SingleProject.id]" *ngIf=" SingleProject.finishState==1">Team</a>
              </p>

            </div>
          </article>
        </div>
        <div class="container-fluid   ">
          <section class="container">

            <div class="row ms-md-5 my-md-4  ">
              <div class="col-xl-3 col-md-12  mb-4 mx-4  ">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex justify-content-between p-md-1">
                      <div class="d-flex flex-row">
                        <div class="align-self-center">
                          <i class="fa-solid fa-pen-to-square text-info fa-3x me-4"></i>                      </div>
                        <div>
                          <h4>Total </h4>
                          <p class="mb-0">Applications</p>
                        </div>
                      </div>
                      <div class="align-self-center">
                        <h2 class="h1 mb-0">{{countapp}}</h2>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-3 col-md-12 mb-4 mx-4  ">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex justify-content-between p-md-1">
                      <div class="d-flex flex-row">
                        <div class="align-self-center">
                          <i class="fa-regular fa-comments  text-warning fa-3x me-4"></i>
                        </div>
                        <div>
                          <h4>Total </h4>
                          <p class="mb-0">Comments</p>
                        </div>
                      </div>
                      <div class="align-self-center">
                        <h2 class="h1 mb-0">{{countcom}}</h2>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-3 col-md-12 mb-4  mx-4 ">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex justify-content-between p-md-1">
                      <div class="d-flex flex-row">
                        <div class="align-self-center">
                          <i class="fa-regular fa-heart text-danger fa-3x me-4"></i>
                        </div>
                        <div>
                          <h4>Total </h4>
                          <p class="mb-0">Approuved applications</p>
                        </div>
                      </div>
                      <div class="align-self-center">
                        <h2 class="h1 mb-0">{{countapprouvedApps}}</h2>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </section>
        </div>
      </div>
    </div>






    <!--         pending for project owner-->

    <div *ngIf="ProjectOwner.user_id==loggeduser['id']">
      <div class="part6">
        <div class="container bootstrap snippets bootdey">
          <div class="row">
            <div class="col-md-12">
              <div class="blog-comment">
                <h3 class="text-success">Pending Applications</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
      <h1 *ngIf="countPenApps==0" style="margin-left: 40%; color: gray; margin-top: 3%;margin-bottom: 3%;">
        No pending applications yet</h1>

        <div class="rpbox">
          <div class="container bootstrap snippets bootdey " *ngFor="let a of penApps">
            <div class="col-md-12">
              <div class="profile-container">
                <div class="profile-header row">
                  <div class="col-md-4 col-sm-12 text-center">
                    <img [src]="imgpath+a.img" alt="" class="header-avatar">
                  </div>
                  <div class="col-md-8 col-sm-12 profile-info">
                    <div class="header-fullname"><i class="fas fa-user mr-2"></i> {{a.name}}</div>
                    <a *ngIf="ProjectOwner.user_id==loggeduser['id'] && a.viewState==0 " (click)="appPos(a.id)"  class="btn btn-palegreen btn-sm  btn-follow">
                      <i class="fa fa-check"></i>
                      Approuve
            
                    </a>
                    <div class="header-information"><i  class="fas fa-envelope mr-2"></i> 
                      {{a.email}} </div>
                  </div>
                  <div class="col-md-12 col-sm-12 col-xs-12 profile-stats">
                    <div class="row">
                      <div class="col-md-4 col-sm-4 col-xs-12 stats-col">
                        <div class="stats-value " style="color: #0081c2 ;"> <i
                          class="fa-solid fa-person-circle-check"></i> Mentor</div>
                        <div class="stats-title " style="color: orange;" *ngIf="a.viewState==0" >Pending</div>
                        <div class="stats-title " style="color: green;" *ngIf="a.viewState==1">Approuved</div>
                        <div class="stats-title " style="color: red;" *ngIf="a.viewState==-1">Denied</div>
      
                      </div>
                      <div class="col-md-4 col-sm-4 col-xs-12 stats-col">
                        <div class="stats-value " style="color: #0081c2 ;"><i
                          class="fa-solid fa-person-circle-check"></i> Admin</div>
                          <div class="stats-title " style="color: orange;" *ngIf="a.appState==0" >Pending</div>
                          <div class="stats-title " style="color: green;" *ngIf="a.appState==1">Approuved</div>
                          <div class="stats-title " style="color: red;" *ngIf="a.appState==-1">Denied</div>                </div>
                      <div class="col-md-4 col-sm-4 col-xs-12 stats-col">
                        <div class="stats-value " style="color: #0081c2 ;"><i
                          class="fa-solid fa-download"></i> CV</div>
                        <div class="stats-title"><a style="text-decoration: none;" href="http://127.0.0.1:8000/storage/post/{{a.cv}}" download>
                          Download</a></div>
                      </div>
                    </div>
      
                  </div>
                </div>
              </div>
            </div>
          </div>
      </div>
        
      









    </div>





    <!--         student private application-->




    <div *ngIf="role=='1' && ownedApp.appState==0  ">
      <div class="part6">
        <div class="container bootstrap snippets bootdey">
          <div class="row">
            <div class="col-md-12">
              <div class="blog-comment">
                <h3 class="text-success">Your Application</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
      <h1 *ngIf="countOwnedApp==0 " style="margin-left: 40%; color: gray; margin-top: 3%;margin-bottom: 3%;">
        You
        didn't applied yet</h1>





        <div class="rpbox" *ngIf="countOwnedApp!=0">
          <div class="container bootstrap snippets bootdey " >
            <div class="col-md-12">
              <div class="profile-container">
                <div class="profile-header row">
                  <div class="col-md-4 col-sm-12 text-center">
                    <img [src]="imgpath+ownedApp.img" alt="" class="header-avatar">
                  </div>
                  <div class="col-md-8 col-sm-12 profile-info">
                    <div class="header-information" style="color: red;">Your application is still private until full aprouvment. </div>

                    <div class="header-fullname"><i class="fas fa-user mr-2"></i> {{ownedApp.name}}</div>
                    
                    <div class="header-information"><i  class="fas fa-envelope mr-2"></i> 
                      {{ownedApp.email}} </div>
                  </div>
                  <div class="col-md-12 col-sm-12 col-xs-12 profile-stats">
                    <div class="row">
                      <div class="col-md-4 col-sm-4 col-xs-12 stats-col">
                        <div class="stats-value " style="color: #0081c2 ;"> <i
                          class="fa-solid fa-person-circle-check"></i> Mentor</div>
                        <div class="stats-title " style="color: orange;" *ngIf="ownedApp.viewState==0" >Pending</div>
                        <div class="stats-title " style="color: green;" *ngIf="ownedApp.viewState==1">Approuved</div>
                        <div class="stats-title " style="color: red;" *ngIf="ownedApp.viewState==-1">Denied</div>
      
                      </div>
                      <div class="col-md-4 col-sm-4 col-xs-12 stats-col">
                        <div class="stats-value " style="color: #0081c2 ;"><i
                          class="fa-solid fa-person-circle-check"></i> Admin</div>
                          <div class="stats-title " style="color: orange;" *ngIf="ownedApp.appState==0" >Pending</div>
                          <div class="stats-title " style="color: green;" *ngIf="ownedApp.appState==1">Approuved</div>
                          <div class="stats-title " style="color: red;" *ngIf="ownedApp.appState==-1">Denied</div>                </div>
                      <div class="col-md-4 col-sm-4 col-xs-12 stats-col">
                        <div class="stats-value " style="color: #0081c2 ;"><i
                          class="fa-solid fa-download"></i> CV</div>
                        <div class="stats-title"><a style="text-decoration: none;" href="http://127.0.0.1:8000/storage/post/{{ownedApp.cv}}" download>
                          Download</a></div>
                      </div>
                    </div>
      
                  </div>
                </div>
              </div>
            </div>
          </div>
      </div>
        
      





    </div>


    <!--         approuved applications-->






    <div class="container bootstrap snippets bootdey">
      <div class="row">
        <div class="col-md-12">
          <div class="blog-comment">
            <h3 class="text-success">Approuved Applications</h3>
          </div>
        </div>
      </div>
    </div>
    <h1 *ngIf="countapprouvedApps==0" style="margin-left: 35%; color: gray; margin-top: 3%;margin-bottom: 3%;">
      No approuved applications yet</h1>





<div class="rpbox">
    <div class="container bootstrap snippets bootdey " *ngFor="let a of approuvedApps">
      <div class="col-md-12">
        <div class="profile-container">
          <div class="profile-header row">
            <div class="col-md-4 col-sm-12 text-center">
              <img [src]="imgpath+a.img" alt="" class="header-avatar">
            </div>
            <div class="col-md-8 col-sm-12 profile-info">
              <div class="header-fullname"><i class="fas fa-user mr-2"></i> {{a.name}}</div>
              <a *ngIf="ProjectOwner.user_id==loggeduser['id'] && a.appState==0 " (click)="appPos(a.id)"  class="btn btn-palegreen btn-sm  btn-follow">
                <i class="fa fa-check"></i>
                <a >Approuve</a>
      
              </a>
              <div class="header-information"><i  class="fas fa-envelope mr-2"></i> 
                {{a.email}} </div>
            </div>
            <div class="col-md-12 col-sm-12 col-xs-12 profile-stats">
              <div class="row">
                <div class="col-md-4 col-sm-4 col-xs-12 stats-col">
                  <div class="stats-value " style="color: #0081c2 ;"> <i
                    class="fa-solid fa-person-circle-check"></i> Mentor</div>
                  <div class="stats-title " style="color: orange;" *ngIf="a.viewState==0" >Pending</div>
                  <div class="stats-title " style="color: green;" *ngIf="a.viewState==1">Approuved</div>
                  <div class="stats-title " style="color: red;" *ngIf="a.viewState==-1">Denied</div>

                </div>
                <div class="col-md-4 col-sm-4 col-xs-12 stats-col">
                  <div class="stats-value " style="color: #0081c2 ;"><i
                    class="fa-solid fa-person-circle-check"></i> Admin</div>
                    <div class="stats-title " style="color: orange;" *ngIf="a.appState==0" >Pending</div>
                    <div class="stats-title " style="color: green;" *ngIf="a.appState==1">Approuved</div>
                    <div class="stats-title " style="color: red;" *ngIf="a.appState==-1">Denied</div>                </div>
                <div class="col-md-4 col-sm-4 col-xs-12 stats-col">
                  <div class="stats-value " style="color: #0081c2 ;"><i
                    class="fa-solid fa-download"></i> CV</div>
                  <div class="stats-title"><a style="text-decoration: none;" href="http://127.0.0.1:8000/storage/post/{{a.cv}}" download>
                    Download</a></div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
</div>
  







    <div class="  container bootstrap snippets bootdey ">
      <div class="row ">
        <div class="col-md-12">
          <div class="blog-comment">
            <h3 class="text-success" >Comments</h3>
            <ul class="comments ">


              <li class="clearfix">


                <ul *ngIf=" ownedApp.appState==1" class="comments">
                  <li class="clearfix">
                    <img [src]="imgpath+user.img" class="avatar" alt="">
                    <div class="post-comments">
                      <form [formGroup]="CommentGroup">

                        <p class="meta"><a href="#">{{user.name}}</a><i class="pull-right"><a><small> <button
                                  (click)="onSubmitComm()" class="send"><i class="fa fa-paper-plane"
                                    aria-hidden="true"></i></button>
                              </small></a></i></p>
                        <p>
                          <input style="width: 100%;" type="text" formControlName="content" required
                            placeholder="Your Comment...">

                      </form>

                    </div>
                  </li>
                </ul>
              </li>
              <li class="clearfix" *ngFor="let p of commentss">
                <img [src]="imgpath+p.userimg" class="avatar" alt="">
                <div class="post-comments">
                  <p class="meta"><a href="#">{{p.username}}</a><i class="pull-right"><a
                        href="#"><small></small></a></i>
                  </p>
                  <p>
                    {{p.content}}
                  </p>
                </div>
              </li>

            </ul>
            <h1 *ngIf="countcom==0" style="margin-left: 40%; color: gray; margin-top: 3%;margin-bottom: 3%;">No comments
              added
              yet</h1>
          </div>
        </div>
      </div>
    </div>

  </div>